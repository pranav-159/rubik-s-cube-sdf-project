#version 460 core

layout(location=0) in vec3 aPos;
layout(location=1) in vec3 aNorm;
layout(location=2) in vec3 aCol;

out vec3 pos;
out vec3 norm;
out vec3 col;

uniform mat4 model;
uniform float feedback[54];

void main(){
    mat4 modelMatrix=mat4(1.0f);
    if(int(feedback[gl_VertexID])==1)
        modelMatrix=model;
    pos=(modelMatrix*vec4(aPos,1.0f)).xyz;
    norm=(modelMatrix*vec4(aNorm,1.0f)).xyz;
    col=aCol;
}
